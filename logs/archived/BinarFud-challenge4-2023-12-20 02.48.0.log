2023-12-20 14:48:20,914 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2023-12-20 14:48:21,225 INFO o.s.b.StartupInfoLogger [restartedMain] Starting ChallengeApplication using Java 20.0.1 with PID 5672 (C:\Users\FAJAR\Downloads\Belajar Java\Challenge_7\BinarFudMain\target\classes started by FAJAR in C:\Users\FAJAR\Downloads\Belajar Java\Challenge_7)
2023-12-20 14:48:21,233 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2023-12-20 14:48:21,475 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-12-20 14:48:21,476 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-12-20 14:48:26,679 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-20 14:48:27,080 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 372 ms. Found 6 JPA repository interfaces.
2023-12-20 14:48:31,989 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8080 (http)
2023-12-20 14:48:32,021 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8080"]
2023-12-20 14:48:32,036 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2023-12-20 14:48:32,038 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.15]
2023-12-20 14:48:32,404 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2023-12-20 14:48:32,407 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 10928 ms
2023-12-20 14:48:33,026 INFO o.f.c.i.l.s.Slf4jLog [restartedMain] Flyway Community Edition 9.16.3 by Redgate
2023-12-20 14:48:33,028 INFO o.f.c.i.l.s.Slf4jLog [restartedMain] See release notes here: https://rd.gt/416ObMi
2023-12-20 14:48:33,030 INFO o.f.c.i.l.s.Slf4jLog [restartedMain] 
2023-12-20 14:48:34,484 INFO o.f.c.i.l.s.Slf4jLog [restartedMain] Database: jdbc:postgresql://localhost:5432/challenge8 (PostgreSQL 16.0)
2023-12-20 14:48:34,526 WARN o.f.c.i.l.s.Slf4jLog [restartedMain] Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2023-12-20 14:48:34,761 INFO o.f.c.i.l.s.Slf4jLog [restartedMain] Successfully validated 1 migration (execution time 00:00.145s)
2023-12-20 14:48:35,197 INFO o.f.c.i.l.s.Slf4jLog [restartedMain] Current version of schema "migrations": null
2023-12-20 14:48:35,202 INFO o.f.c.i.l.s.Slf4jLog [restartedMain] Schema "migrations" is up to date. No migration necessary.
2023-12-20 14:48:35,617 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-20 14:48:35,868 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.2.13.Final
2023-12-20 14:48:35,876 INFO o.h.c.Environment [restartedMain] HHH000406: Using bytecode reflection optimizer
2023-12-20 14:48:36,728 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-12-20 14:48:36,807 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2023-12-20 14:48:36,960 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@491bc3f9
2023-12-20 14:48:36,964 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2023-12-20 14:48:37,084 WARN o.h.e.j.d.i.DialectFactoryImpl [restartedMain] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2023-12-20 14:48:42,022 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2023-12-20 14:48:42,473 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-20 14:48:46,298 INFO o.s.d.j.r.q.QueryEnhancerFactory [restartedMain] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-12-20 14:48:48,082 INFO c.c.s.SocketIOServer [restartedMain] Session store / pubsub factory used: MemoryStoreFactory (local session store only)
2023-12-20 14:48:49,467 INFO c.c.s.SocketIOServer$1 [nioEventLoopGroup-2-1] SocketIO server started at port: 8085
2023-12-20 14:48:50,272 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-12-20 14:48:51,709 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70af36dd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2516e24e, org.springframework.security.web.context.SecurityContextHolderFilter@79ac9d07, org.springframework.security.web.header.HeaderWriterFilter@59d9c155, org.springframework.security.web.authentication.logout.LogoutFilter@259fc0fe, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@24afb0b5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1cd926a0, id.achfajar.challenge8.security.jwt.AuthTokenFilter@3d59eabc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3db273b8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3c33ea0b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@17e76824, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b84d975, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66cef48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e78e55a, org.springframework.security.web.session.SessionManagementFilter@9eb2a40, org.springframework.security.web.access.ExceptionTranslationFilter@c612d37, org.springframework.security.web.access.intercept.AuthorizationFilter@525a05f4]
2023-12-20 14:48:52,563 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2023-12-20 14:48:52,642 INFO o.a.k.c.c.AbstractConfig [restartedMain] AdminClientConfig values: 
	auto.include.jmx.reporter = true
	bootstrap.servers = [localhost:9092]
	client.dns.lookup = use_all_dns_ips
	client.id = 
	connections.max.idle.ms = 300000
	default.api.timeout.ms = 60000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2023-12-20 14:48:53,848 INFO o.a.k.c.u.AppInfoParser$AppInfo [restartedMain] Kafka version: 3.4.1
2023-12-20 14:48:53,849 INFO o.a.k.c.u.AppInfoParser$AppInfo [restartedMain] Kafka commitId: 8a516edc2755df89
2023-12-20 14:48:53,850 INFO o.a.k.c.u.AppInfoParser$AppInfo [restartedMain] Kafka startTimeMs: 1703058533841
2023-12-20 14:48:55,996 INFO o.a.k.c.u.AppInfoParser [kafka-admin-client-thread | adminclient-1] App info kafka.admin.client for adminclient-1 unregistered
2023-12-20 14:48:56,041 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | adminclient-1] Metrics scheduler closed
2023-12-20 14:48:56,042 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | adminclient-1] Closing reporter org.apache.kafka.common.metrics.JmxReporter
2023-12-20 14:48:56,042 INFO o.a.k.c.m.Metrics [kafka-admin-client-thread | adminclient-1] Metrics reporters closed
2023-12-20 14:48:56,051 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8080"]
2023-12-20 14:48:56,080 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8080 (http) with context path ''
2023-12-20 14:48:56,105 INFO o.s.b.StartupInfoLogger [restartedMain] Started ChallengeApplication in 38.477 seconds (process running for 40.913)
2023-12-20 14:49:48,225 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2023-12-20 14:49:48,490 INFO o.s.b.StartupInfoLogger [main] Starting EmailServiceApplication using Java 20.0.1 with PID 4568 (C:\Users\FAJAR\Downloads\Belajar Java\Challenge_7\EmailService\target\classes started by FAJAR in C:\Users\FAJAR\Downloads\Belajar Java\Challenge_7)
2023-12-20 14:49:48,495 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2023-12-20 14:49:54,930 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-20 14:49:55,007 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 0 JPA repository interfaces.
2023-12-20 14:49:59,433 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2023-12-20 14:49:59,453 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2023-12-20 14:49:59,461 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2023-12-20 14:49:59,461 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.16]
2023-12-20 14:49:59,739 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2023-12-20 14:49:59,743 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 11077 ms
2023-12-20 14:50:01,509 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-12-20 14:50:02,953 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e2c4d4b
2023-12-20 14:50:02,958 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-12-20 14:50:03,243 INFO o.f.c.i.l.s.Slf4jLog [main] Flyway Community Edition 9.22.3 by Redgate
2023-12-20 14:50:03,245 INFO o.f.c.i.l.s.Slf4jLog [main] See release notes here: https://rd.gt/416ObMi
2023-12-20 14:50:03,246 INFO o.f.c.i.l.s.Slf4jLog [main] 
2023-12-20 14:50:03,285 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:postgresql://localhost:5432/challenge8 (PostgreSQL 16.0)
2023-12-20 14:50:03,302 WARN o.f.c.i.l.s.Slf4jLog [main] Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2023-12-20 14:50:03,367 INFO o.f.c.i.l.s.Slf4jLog [main] Schema history table "public"."flyway_schema_history" does not exist yet
2023-12-20 14:50:03,374 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 0 migrations (execution time 00:00.028s)
2023-12-20 14:50:03,375 WARN o.f.c.i.l.s.Slf4jLog [main] No migrations found. Are your locations set up correctly?
2023-12-20 14:50:03,425 WARN o.s.c.s.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
2023-12-20 14:50:03,426 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-12-20 14:50:03,543 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-12-20 14:50:03,557 INFO o.a.j.l.DirectJDKLog [main] Stopping service [Tomcat]
2023-12-20 14:50:03,634 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-12-20 14:50:03,681 ERROR o.s.b.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1173)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:936)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.achfajar.EmailServiceApplication.main(EmailServiceApplication.java:10)
Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:178)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771)
	... 18 common frames omitted
